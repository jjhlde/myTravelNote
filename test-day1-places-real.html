<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Day1 ì‹¤ì œ Places API í…ŒìŠ¤íŠ¸</title>
    <script src="config.js"></script>
    <script src="places-api.js"></script>
</head>
<body>
    <h1>Day1 ì‹¤ì œ Places API ë°ì´í„° ìˆ˜ì§‘</h1>
    <div id="results"></div>
    
    <script>
        async function testRealPlacesAPI() {
            const resultsDiv = document.getElementById('results');
            
            try {
                // 1. ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­
                console.log('ğŸ” ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­ ì‹¤ì œ ë°ì´í„° ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<h2>ğŸ›¬ ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­</h2><p>ê²€ìƒ‰ ì¤‘...</p>';
                
                const airportData = await placesService.findPlaceByName('Macau International Airport', {lat: 22.1496, lng: 113.5919});
                console.log('âœ… ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­ ì‹¤ì œ ë°ì´í„°:', airportData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 2px solid #4CAF50; margin: 20px 0; padding: 15px; border-radius: 8px;">
                        <h3>âœˆï¸ ${airportData.name}</h3>
                        <p><strong>â­ ì‹¤ì œ í‰ì :</strong> ${airportData.rating}/5 (${airportData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ğŸ“ ì‹¤ì œ ì£¼ì†Œ:</strong> ${airportData.address}</p>
                        <p><strong>ğŸ“ ì „í™”:</strong> ${airportData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ğŸŒ ì›¹ì‚¬ì´íŠ¸:</strong> ${airportData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>â° ìš´ì˜ì‹œê°„:</strong> ${airportData.openingHours.length > 0 ? airportData.openingHours.join('<br>') : '24ì‹œê°„ ìš´ì˜'}</p>
                        <p><strong>ğŸ“¸ ì‹¤ì œ ì‚¬ì§„:</strong> ${airportData.photos.length}ê°œ</p>
                        <p><strong>ğŸ’¬ ì‹¤ì œ ë¦¬ë·°:</strong></p>
                        ${airportData.reviews.slice(0, 3).map(r => `<div style="background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 5px;">"${r.text}" (${r.rating}â­ - ${r.authorName})</div>`).join('')}
                        <p><strong>ğŸ–¼ï¸ ì‹¤ì œ ì´ë¯¸ì§€ URLë“¤:</strong></p>
                        ${airportData.photos.slice(0, 3).map((photo, i) => `<div><img src="${photo}" alt="ê³µí•­ ì‚¬ì§„ ${i+1}" style="width: 200px; height: 150px; object-fit: cover; margin: 5px;"><br>URL: ${photo}</div>`).join('')}
                    </div>
                `;
                
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // 2. ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤
                console.log('ğŸ” ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤ ì‹¤ì œ ë°ì´í„° ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<h2>ğŸ¨ ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤</h2><p>ê²€ìƒ‰ ì¤‘...</p>';
                
                const andazData = await placesService.findPlaceByName('Andaz Macau', {lat: 22.1489, lng: 113.5543});
                console.log('âœ… ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤ ì‹¤ì œ ë°ì´í„°:', andazData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 2px solid #2196F3; margin: 20px 0; padding: 15px; border-radius: 8px;">
                        <h3>ğŸ¨ ${andazData.name}</h3>
                        <p><strong>â­ ì‹¤ì œ í‰ì :</strong> ${andazData.rating}/5 (${andazData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ğŸ“ ì‹¤ì œ ì£¼ì†Œ:</strong> ${andazData.address}</p>
                        <p><strong>ğŸ“ ì „í™”:</strong> ${andazData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ğŸŒ ì›¹ì‚¬ì´íŠ¸:</strong> ${andazData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ğŸ“¸ ì‹¤ì œ ì‚¬ì§„:</strong> ${andazData.photos.length}ê°œ</p>
                        <p><strong>ğŸ’¬ ì‹¤ì œ ë¦¬ë·°:</strong></p>
                        ${andazData.reviews.slice(0, 3).map(r => `<div style="background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 5px;">"${r.text}" (${r.rating}â­ - ${r.authorName})</div>`).join('')}
                        <p><strong>ğŸ–¼ï¸ ì‹¤ì œ ì´ë¯¸ì§€ URLë“¤:</strong></p>
                        ${andazData.photos.slice(0, 3).map((photo, i) => `<div><img src="${photo}" alt="í˜¸í…” ì‚¬ì§„ ${i+1}" style="width: 200px; height: 150px; object-fit: cover; margin: 5px;"><br>URL: ${photo}</div>`).join('')}
                    </div>
                `;
                
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // 3. íŒ€í˜¸ì™„
                console.log('ğŸ” íŒ€í˜¸ì™„ ì‹¤ì œ ë°ì´í„° ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<h2>ğŸ¥Ÿ íŒ€í˜¸ì™„</h2><p>ê²€ìƒ‰ ì¤‘...</p>';
                
                const timHoWanData = await placesService.findPlaceByName('Tim Ho Wan Broadway Macau', {lat: 22.1472, lng: 113.5497});
                console.log('âœ… íŒ€í˜¸ì™„ ì‹¤ì œ ë°ì´í„°:', timHoWanData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 2px solid #FF9800; margin: 20px 0; padding: 15px; border-radius: 8px;">
                        <h3>ğŸ¥Ÿ ${timHoWanData.name}</h3>
                        <p><strong>â­ ì‹¤ì œ í‰ì :</strong> ${timHoWanData.rating}/5 (${timHoWanData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ğŸ“ ì‹¤ì œ ì£¼ì†Œ:</strong> ${timHoWanData.address}</p>
                        <p><strong>ğŸ“ ì „í™”:</strong> ${timHoWanData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>â° ìš´ì˜ì‹œê°„:</strong> ${timHoWanData.openingHours.length > 0 ? timHoWanData.openingHours.join('<br>') : 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ğŸ“¸ ì‹¤ì œ ì‚¬ì§„:</strong> ${timHoWanData.photos.length}ê°œ</p>
                        <p><strong>ğŸ’¬ ì‹¤ì œ ë¦¬ë·°:</strong></p>
                        ${timHoWanData.reviews.slice(0, 3).map(r => `<div style="background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 5px;">"${r.text}" (${r.rating}â­ - ${r.authorName})</div>`).join('')}
                        <p><strong>ğŸ–¼ï¸ ì‹¤ì œ ì´ë¯¸ì§€ URLë“¤:</strong></p>
                        ${timHoWanData.photos.slice(0, 3).map((photo, i) => `<div><img src="${photo}" alt="ë ˆìŠ¤í† ë‘ ì‚¬ì§„ ${i+1}" style="width: 200px; height: 150px; object-fit: cover; margin: 5px;"><br>URL: ${photo}</div>`).join('')}
                    </div>
                `;
                
                resultsDiv.innerHTML += '<h2 style="color: green;">ğŸ‰ ì‹¤ì œ Places API ë°ì´í„° ìˆ˜ì§‘ ì™„ë£Œ!</h2>';
                
            } catch (error) {
                console.error('âŒ ì‹¤ì œ Places API ë°ì´í„° ìˆ˜ì§‘ ì˜¤ë¥˜:', error);
                resultsDiv.innerHTML += `<p style="color: red;">âŒ ì˜¤ë¥˜: ${error.message}</p>`;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                if (window.placesService) {
                    testRealPlacesAPI();
                } else {
                    document.getElementById('results').innerHTML = 'âŒ Places Service ì´ˆê¸°í™” ì‹¤íŒ¨';
                }
            }, 1000);
        });
    </script>
</body>
</html>