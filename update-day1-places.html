<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Day1 Places Update</title>
    <script src="config.js"></script>
    <script src="places-api.js"></script>
</head>
<body>
    <h1>Day1 ì¥ì†Œ ì •ë³´ ì—…ë°ì´íŠ¸</h1>
    <div id="results"></div>
    
    <script>
        async function updateDay1Places() {
            const resultsDiv = document.getElementById('results');
            
            try {
                // 1. ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­
                console.log('ğŸ” ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­ ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<p>ğŸ” ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­ ê²€ìƒ‰ ì¤‘...</p>';
                
                const airportData = await placesService.findPlaceByName('Macau International Airport', {lat: 22.1496, lng: 113.5919});
                console.log('âœ… ë§ˆì¹´ì˜¤ êµ­ì œê³µí•­:', airportData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                        <h3>âœˆï¸ ${airportData.name}</h3>
                        <p><strong>í‰ì :</strong> ${airportData.rating}/5 (${airportData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${airportData.address}</p>
                        <p><strong>ì „í™”:</strong> ${airportData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì›¹ì‚¬ì´íŠ¸:</strong> ${airportData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ìš´ì˜ì‹œê°„:</strong> ${airportData.openingHours.length > 0 ? airportData.openingHours.join('<br>') : '24ì‹œê°„ ìš´ì˜'}</p>
                        <p><strong>ì‚¬ì§„:</strong> ${airportData.photos.length}ê°œ</p>
                        <p><strong>ë¦¬ë·° ì˜ˆì‹œ:</strong> ${airportData.reviews.slice(0, 2).map(r => `"${r.text}" (${r.rating}â­)`).join(' | ')}</p>
                        <a href="${airportData.mapLink}" target="_blank">Google Maps ë³´ê¸°</a>
                    </div>
                `;
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // 2. ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤
                console.log('ğŸ” ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤ ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<p>ğŸ” ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤ ê²€ìƒ‰ ì¤‘...</p>';
                
                const andazData = await placesService.findPlaceByName('Andaz Macau', {lat: 22.1489, lng: 113.5543});
                console.log('âœ… ì•ˆë‹¤ì¦ˆ ë§ˆì¹´ì˜¤:', andazData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                        <h3>ğŸ¨ ${andazData.name}</h3>
                        <p><strong>í‰ì :</strong> ${andazData.rating}/5 (${andazData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${andazData.address}</p>
                        <p><strong>ì „í™”:</strong> ${andazData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì›¹ì‚¬ì´íŠ¸:</strong> ${andazData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì‚¬ì§„:</strong> ${andazData.photos.length}ê°œ</p>
                        <p><strong>ë¦¬ë·° ì˜ˆì‹œ:</strong> ${andazData.reviews.slice(0, 2).map(r => `"${r.text}" (${r.rating}â­)`).join(' | ')}</p>
                        <a href="${andazData.mapLink}" target="_blank">Google Maps ë³´ê¸°</a>
                    </div>
                `;
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // 3. ë¸Œë¡œë“œì›¨ì´ í‘¸ë“œìŠ¤íŠ¸ë¦¬íŠ¸
                console.log('ğŸ” ë¸Œë¡œë“œì›¨ì´ í‘¸ë“œìŠ¤íŠ¸ë¦¬íŠ¸ ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<p>ğŸ” ë¸Œë¡œë“œì›¨ì´ í‘¸ë“œìŠ¤íŠ¸ë¦¬íŠ¸ ê²€ìƒ‰ ì¤‘...</p>';
                
                const broadwayData = await placesService.findPlaceByName('Broadway Food Street Macau', {lat: 22.1472, lng: 113.5497});
                console.log('âœ… ë¸Œë¡œë“œì›¨ì´ í‘¸ë“œìŠ¤íŠ¸ë¦¬íŠ¸:', broadwayData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                        <h3>ğŸ½ï¸ ${broadwayData.name}</h3>
                        <p><strong>í‰ì :</strong> ${broadwayData.rating}/5 (${broadwayData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${broadwayData.address}</p>
                        <p><strong>ì „í™”:</strong> ${broadwayData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì›¹ì‚¬ì´íŠ¸:</strong> ${broadwayData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ìš´ì˜ì‹œê°„:</strong> ${broadwayData.openingHours.length > 0 ? broadwayData.openingHours.join('<br>') : 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì‚¬ì§„:</strong> ${broadwayData.photos.length}ê°œ</p>
                        <p><strong>ë¦¬ë·° ì˜ˆì‹œ:</strong> ${broadwayData.reviews.slice(0, 2).map(r => `"${r.text}" (${r.rating}â­)`).join(' | ')}</p>
                        <a href="${broadwayData.mapLink}" target="_blank">Google Maps ë³´ê¸°</a>
                    </div>
                `;
                
                await new Promise(resolve => setTimeout(resolve, 1000));
                
                // 4. íŒ€í˜¸ì™„
                console.log('ğŸ” íŒ€í˜¸ì™„ ê²€ìƒ‰ ì¤‘...');
                resultsDiv.innerHTML += '<p>ğŸ” íŒ€í˜¸ì™„ ê²€ìƒ‰ ì¤‘...</p>';
                
                const timHoWanData = await placesService.findPlaceByName('Tim Ho Wan Broadway Macau', {lat: 22.1472, lng: 113.5497});
                console.log('âœ… íŒ€í˜¸ì™„:', timHoWanData);
                
                resultsDiv.innerHTML += `
                    <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                        <h3>ğŸ¥Ÿ ${timHoWanData.name}</h3>
                        <p><strong>í‰ì :</strong> ${timHoWanData.rating}/5 (${timHoWanData.userRatingsTotal}ê°œ ë¦¬ë·°)</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${timHoWanData.address}</p>
                        <p><strong>ì „í™”:</strong> ${timHoWanData.phoneNumber || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì›¹ì‚¬ì´íŠ¸:</strong> ${timHoWanData.website || 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ìš´ì˜ì‹œê°„:</strong> ${timHoWanData.openingHours.length > 0 ? timHoWanData.openingHours.join('<br>') : 'ì •ë³´ ì—†ìŒ'}</p>
                        <p><strong>ì‚¬ì§„:</strong> ${timHoWanData.photos.length}ê°œ</p>
                        <p><strong>ë¦¬ë·° ì˜ˆì‹œ:</strong> ${timHoWanData.reviews.slice(0, 2).map(r => `"${r.text}" (${r.rating}â­)`).join(' | ')}</p>
                        <a href="${timHoWanData.mapLink}" target="_blank">Google Maps ë³´ê¸°</a>
                    </div>
                `;
                
                resultsDiv.innerHTML += '<h2>âœ… Day1 ì¥ì†Œ ì •ë³´ ìˆ˜ì§‘ ì™„ë£Œ!</h2>';
                
            } catch (error) {
                console.error('âŒ ì˜¤ë¥˜:', error);
                resultsDiv.innerHTML += `<p style="color: red;">âŒ ì˜¤ë¥˜: ${error.message}</p>`;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                if (window.placesService) {
                    updateDay1Places();
                } else {
                    document.getElementById('results').innerHTML = 'âŒ Places Service ì´ˆê¸°í™” ì‹¤íŒ¨';
                }
            }, 1000);
        });
    </script>
</body>
</html>