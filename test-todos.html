<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¤€ë¹„ë¬¼ íƒ­ í…ŒìŠ¤íŠ¸</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-8">
    <div class="max-w-md mx-auto bg-white rounded-lg shadow-lg">
        <h1 class="text-xl font-bold p-4 border-b">ì¤€ë¹„ë¬¼ íƒ­ í…ŒìŠ¤íŠ¸</h1>
        
        <!-- ë°”í…€ ë„¤ë¹„ê²Œì´ì…˜ ì‹œë®¬ë ˆì´ì…˜ -->
        <div class="p-4">
            <div class="flex justify-around border rounded-lg p-2">
                <button data-sheet="info" class="bottom-nav-btn flex items-center justify-center gap-1.5 text-slate-600 hover:text-orange-600 transition w-20 h-12 rounded-full">
                    <span class="text-sm font-semibold">ì •ë³´</span>
                </button>
                <button data-sheet="budget" class="bottom-nav-btn flex items-center justify-center gap-1.5 text-slate-600 hover:text-orange-600 transition w-20 h-12 rounded-full">
                    <span class="text-sm font-semibold">ì˜ˆì‚°</span>
                </button>
                <button data-sheet="todo" class="bottom-nav-btn flex items-center justify-center gap-1.5 text-slate-600 hover:text-orange-600 transition w-20 h-12 rounded-full">
                    <span class="text-sm font-semibold">ì¤€ë¹„ë¬¼</span>
                </button>
            </div>
        </div>
        
        <!-- ì»¨í…ì¸  ì˜ì—­ -->
        <div id="content-area" class="p-4 min-h-96 border-t">
            <p class="text-gray-500">ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”.</p>
        </div>
    </div>

    <script>
        // ë„ì¿„ ê²Œì„ì‡¼ ì—¬í–‰ ë°ì´í„° ì‹œë®¬ë ˆì´ì…˜
        const mockTravelData = {
            destination: "ë„ì¿„",
            tripTitle: "ë„ì¿„ ê²Œì„ì‡¼ 2025 ì™„ì „ ì •ë³µ ì†”ë¡œ ì—¬í–‰",
            travelers: { adults: 1 },
            todos: [
                { category: 'pre-departure', text: 'ì—¬ê¶Œ/ì‹ ë¶„ì¦ í™•ì¸', priority: 'high' },
                { category: 'pre-departure', text: 'JR Pass ë˜ëŠ” ë„ì¿„ ë©”íŠ¸ë¡œ íŒ¨ìŠ¤ êµ¬ë§¤', priority: 'medium' },
                { category: 'pre-departure', text: 'ë„ì¿„ ê²Œì„ì‡¼ í‹°ì¼“ ì¤€ë¹„', priority: 'high' },
                { category: 'packing', text: 'ë³´ì¡°ë°°í„°ë¦¬ (ê²Œì„ ì‹œì—° ëŒ€ê¸°ìš©)', priority: 'high' },
                { category: 'packing', text: 'í¸í•œ ì‹ ë°œ (ì¥ì‹œê°„ ì„œì„œ ëŒ€ê¸°)', priority: 'high' },
                { category: 'local', text: 'Google ë²ˆì—­ ì•± ë‹¤ìš´ë¡œë“œ', priority: 'medium' },
                { category: 'return', text: 'ê²Œì„ì‡¼ í•œì • êµ¿ì¦ˆ êµ¬ë§¤', priority: 'medium' }
            ]
        };

        class TestTodoLoader {
            constructor() {
                this.travelData = mockTravelData;
                this.setupEventListeners();
            }

            setupEventListeners() {
                document.addEventListener('click', (e) => {
                    if (e.target.closest('.bottom-nav-btn')) {
                        const btn = e.target.closest('.bottom-nav-btn');
                        const sheetType = btn.dataset.sheet;
                        this.showContent(sheetType);
                    }
                });
            }

            showContent(type) {
                const contentArea = document.getElementById('content-area');
                
                switch(type) {
                    case 'info':
                        contentArea.innerHTML = '<h2 class="text-lg font-bold">ì •ë³´ íƒ­</h2><p>ì—¬í–‰ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>';
                        break;
                    case 'budget':
                        contentArea.innerHTML = '<h2 class="text-lg font-bold">ì˜ˆì‚° íƒ­</h2><p>ì˜ˆì‚° ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤.</p>';
                        break;
                    case 'todo':
                        contentArea.innerHTML = this.generateTodoContent();
                        break;
                }
            }

            generateTodoContent() {
                const todos = this.travelData.todos || [];
                console.log('ğŸ§³ ì¤€ë¹„ë¬¼ ë°ì´í„° í™•ì¸:', todos);
                
                if (todos.length > 0) {
                    const categorizedTodos = {};
                    
                    todos.forEach(todo => {
                        const category = this.getCategoryDisplayName(todo.category);
                        if (!categorizedTodos[category]) {
                            categorizedTodos[category] = [];
                        }
                        categorizedTodos[category].push(todo);
                    });

                    return `
                        <h2 class="text-xl font-bold text-slate-800 mb-4">ì—¬í–‰ ì¤€ë¹„ë¬¼</h2>
                        <div class="space-y-4">
                            ${Object.entries(categorizedTodos).map(([category, items]) => `
                                <div>
                                    <h3 class="font-bold text-slate-800 mb-3 border-b pb-2">${category}</h3>
                                    <div class="space-y-2">
                                        ${items.map(item => `
                                            <label class="flex items-center gap-3 p-3 bg-gray-50 rounded-lg border">
                                                <input type="checkbox" class="h-4 w-4 text-orange-600">
                                                <span class="text-sm text-slate-700">${item.text}</span>
                                                <span class="ml-auto text-xs px-2 py-1 rounded ${this.getPriorityClass(item.priority)}">${this.getPriorityLabel(item.priority)}</span>
                                            </label>
                                        `).join('')}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                }
                
                return '<p class="text-gray-500">ì¤€ë¹„ë¬¼ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
            }

            getCategoryDisplayName(category) {
                const categoryMap = {
                    'pre-departure': 'âœˆï¸ ì¶œë°œ ì „ í•„ìˆ˜',
                    'packing': 'ğŸ‘• ê°œì¸ ìš©í’ˆ',
                    'departure': 'ğŸš€ ì¶œë°œ ë‹¹ì¼',
                    'local': 'ğŸ—ºï¸ í˜„ì§€ ë„ì°© í›„',
                    'return': 'ğŸ  ê·€êµ­ ì¤€ë¹„'
                };
                return categoryMap[category] || `ğŸ“‹ ${category}`;
            }

            getPriorityClass(priority) {
                const priorityClasses = {
                    'high': 'bg-red-100 text-red-700',
                    'medium': 'bg-yellow-100 text-yellow-700', 
                    'low': 'bg-green-100 text-green-700'
                };
                return priorityClasses[priority] || 'bg-gray-100 text-gray-700';
            }

            getPriorityLabel(priority) {
                const priorityLabels = {
                    'high': 'í•„ìˆ˜',
                    'medium': 'ì¤‘ìš”',
                    'low': 'ì˜µì…˜'
                };
                return priorityLabels[priority] || priority;
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ í…ŒìŠ¤íŠ¸ ì‹œì‘
        document.addEventListener('DOMContentLoaded', () => {
            new TestTodoLoader();
        });
    </script>
</body>
</html>