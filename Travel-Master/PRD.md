# AI ì—¬í–‰ í”Œë˜ë„ˆ PRD (Product Requirements Document)
*Rails + DigitalOcean ê¸°ë°˜*

## ğŸ“‹ ì œí’ˆ ê°œìš”

### í”„ë¡œì íŠ¸ëª…
**TripCrafter** - AI ê¸°ë°˜ ê°œì¸ ë§ì¶¤í˜• ì—¬í–‰ í”Œë˜ë„ˆ

### ë¯¸ì…˜
ì‚¬ìš©ìê°€ ê°„ë‹¨í•œ ìì—°ì–´ ì…ë ¥ë§Œìœ¼ë¡œ ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ì—¬í–‰ ê³„íšì„ ìƒì„±í•˜ê³ , ê°œì¸ ì „ìš© PWA ì•±ì„ ì¦‰ì‹œ ë°›ì„ ìˆ˜ ìˆëŠ” ì„œë¹„ìŠ¤

### í•µì‹¬ ê°€ì¹˜
- **ê°„í¸í•¨**: ë³µì¡í•œ ì—¬í–‰ ê³„íšì„ 30ì´ˆ ì•ˆì— ìƒì„±
- **ì „ë¬¸ì„±**: 20ë…„ ê²½ë ¥ ì—¬í–‰ í”Œë˜ë„ˆ ìˆ˜ì¤€ì˜ ìƒì„¸í•œ ì¼ì •
- **ê°œì¸í™”**: ì‚¬ìš©ìë³„ ê³ ìœ  PWA ì•± ìë™ ìƒì„±
- **ì ‘ê·¼ì„±**: ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•œ ì—¬í–‰ ì•±

## ğŸ‘¥ ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

### ì£¼ìš” íƒ€ê²Ÿ
- **ë©”ì¸ íƒ€ê²Ÿ**: 25-45ì„¸ ì—¬í–‰ ê³„íšì— ì–´ë ¤ì›€ì„ ëŠë¼ëŠ” ê°œì¸/ê°€ì¡±
- **ì„œë¸Œ íƒ€ê²Ÿ**: ì—¬í–‰ ì´ˆë³´ì, ì‹œê°„ì´ ë¶€ì¡±í•œ ì§ì¥ì¸
- **í™•ì¥ íƒ€ê²Ÿ**: ì†Œê·œëª¨ ì—¬í–‰ì‚¬, í”„ë¦¬ëœì„œ ê°€ì´ë“œ

### ì‚¬ìš©ì í”Œë¡œìš°
```
1. ë°©ë¬¸ â†’ "ì˜¤ì‚¬ì¹´ 3ë°•4ì¼ ê°€ì¡±ì—¬í–‰ ê³„íší•´ì¤˜"
2. AI ì±—ë´‡ â†’ ì¶”ê°€ ì§ˆë¬¸ (ì˜ˆì‚°, ì„ í˜¸ë„ ë“±)
3. ìƒì„± â†’ 8-15ì´ˆ ë‚´ ê¸°ë³¸ ì—¬í–‰ ê³„íš ì™„ì„±
4. ì œê³µ â†’ ê³ ìœ  URL (tripcrafter.com/plan/abc123)
5. ì‚¬ìš© â†’ PWA ì„¤ì¹˜ í›„ ì˜¤í”„ë¼ì¸ ì‚¬ìš©
```

## ğŸš€ ê¸°ëŠ¥ ëª…ì„¸

### í•µì‹¬ ê¸°ëŠ¥ (MVP)

#### ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤
- ìì—°ì–´ ì…ë ¥ ì²˜ë¦¬
- ë§ì¶¤í˜• ì§ˆë¬¸ ìƒì„± (2-3ê°œë¡œ ì œí•œ)
- ì‹¤ì‹œê°„ ì‘ë‹µ ì²˜ë¦¬
- ì§„í–‰ ìƒí™© í‘œì‹œ

#### AI ì—¬í–‰ í”Œë˜ë„ˆ
- Gemini 2.5 Flash API í™œìš©
- êµ¬ì¡°í™”ëœ JSON ì‘ë‹µ ìƒì„±
- ë™ì„  ìµœì í™” ë° ì‹œê°„ ë°°ë¶„
- í˜„ì§€ ë¬¸í™” ë° íŒ í¬í•¨

#### PWA ìƒì„± ì—”ì§„
- ê°œì¸ë³„ ê³ ìœ  URL ìƒì„±
- í…œí”Œë¦¿ ê¸°ë°˜ HTML/CSS/JS ìƒì„±
- ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ ì§€ì›
- ì ì§„ì  ë¡œë”© êµ¬í˜„

#### ê¸°ë³¸ ë°ì´í„° ê´€ë¦¬
- ì‚¬ìš©ì ê³„ì • (ì´ë©”ì¼/ë¹„ë°€ë²ˆí˜¸)
- ìƒì„±ëœ ì—¬í–‰ ê³„íš ì €ì¥
- ê¸°ë³¸ í†µê³„ ë° ë¶„ì„
- ì‚¬ìš©ì í”¼ë“œë°± ìˆ˜ì§‘

### í–¥í›„ ê¸°ëŠ¥ (Post-MVP)
- ì†Œì…œ ë¡œê·¸ì¸ (Google, Kakao)
- ì—¬í–‰ ê³„íš ê³µìœ  ê¸°ëŠ¥
- ì‹¤ì‹œê°„ ì •ë³´ ì—…ë°ì´íŠ¸
- ì˜ˆì•½ ì‹œìŠ¤í…œ ì—°ë™
- ë‹¤êµ­ì–´ ì§€ì› (ì˜ì–´, ì¤‘êµ­ì–´, ì¼ë³¸ì–´)
- ì—¬í–‰ ë¹„ìš© ì¶”ì 
- ì‚¬ì§„ ì—…ë¡œë“œ ë° ì—¬í–‰ê¸° ì‘ì„±

## ğŸ—ï¸ ê¸°ìˆ  ì•„í‚¤í…ì²˜

### ê¸°ìˆ  ìŠ¤íƒ

#### Backend
```ruby
# Ruby on Rails 7.1
- Ruby 3.3
- Rails 7.1
- PostgreSQL 15
- Redis (ìºì‹± ë° ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)
- Sidekiq (ë°±ê·¸ë¼ìš´ë“œ ì‘ì—…)
- ActionCable (ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸)
```

#### Frontend
```ruby
# Rails ë‚´ì¥ + Modern Rails
- Hotwire (Turbo + Stimulus)
- Tailwind CSS
- ViewComponent
- PWA ì§€ì› (Service Worker)
```

#### AI & External APIs
```yaml
- Gemini 2.5 Flash API
- Google Maps API (Places, Geocoding)
- Google Places Photos API
- OpenWeatherMap API (ì„ íƒì‚¬í•­)
```

#### Infrastructure
```yaml
Server: DigitalOcean Droplet
- Ubuntu 22.04 LTS
- 2GB RAM (ì´ˆê¸°) â†’ 4GB RAM (ì„±ì¥)
- Nginx + Passenger
- Let's Encrypt SSL

Database: PostgreSQL
- ìì²´ ì„¤ì¹˜ ë° ê´€ë¦¬
- ì¼ì¼ ë°±ì—… ì„¤ì •

Storage: DigitalOcean Spaces
- ì´ë¯¸ì§€ ë° ì •ì  íŒŒì¼
- CDN í™œìš©
```

### ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser   â”‚â”€â”€â”€â”€â–¶â”‚  Rails App  â”‚â”€â”€â”€â”€â–¶â”‚  Gemini API â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚ PostgreSQL  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   Sidekiq   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“Š ë°ì´í„° ëª¨ë¸

### ì£¼ìš” ì—”í‹°í‹°

```ruby
# User
- id: bigint (primary key)
- email: string (unique, not null)
- encrypted_password: string
- name: string
- created_at: datetime
- updated_at: datetime

# TravelPlan
- id: bigint (primary key)
- user_id: bigint (foreign key)
- title: string
- destination: string
- start_date: date
- end_date: date
- travelers_count: integer
- budget_range: string
- ai_response: jsonb
- status: string (draft/published)
- unique_slug: string (unique)
- created_at: datetime
- updated_at: datetime

# Day
- id: bigint (primary key)
- travel_plan_id: bigint (foreign key)
- date: date
- day_number: integer
- theme: string
- created_at: datetime

# Activity
- id: bigint (primary key)
- day_id: bigint (foreign key)
- time_slot: string
- title: string
- description: text
- location_name: string
- google_maps_url: string
- coordinates: jsonb (lat, lng)
- estimated_cost: decimal
- activity_type: string
- created_at: datetime

# Restaurant
- id: bigint (primary key)
- day_id: bigint (foreign key)
- meal_type: string (breakfast/lunch/dinner)
- name: string
- cuisine_type: string
- google_maps_url: string
- price_range: string
- recommended_dishes: text
- created_at: datetime
```

## ğŸ¯ ì„±ëŠ¥ ëª©í‘œ

### ì‘ë‹µ ì‹œê°„
- **í˜ì´ì§€ ë¡œë“œ**: < 2ì´ˆ
- **AI ì‘ë‹µ ìƒì„±**: < 15ì´ˆ
- **PWA ê¸°ë³¸ ìƒì„±**: < 5ì´ˆ
- **ì „ì²´ ì™„ì„±**: < 30ì´ˆ

### ì‹œìŠ¤í…œ ì„±ëŠ¥
- **ë™ì‹œ ì ‘ì†**: 100ëª… ì´ìƒ
- **ì¼ì¼ ì²˜ë¦¬ëŸ‰**: 1,000 ì—¬í–‰ ê³„íš
- **ê°€ë™ì‹œê°„**: 99.9%
- **DB ì‘ë‹µì‹œê°„**: < 100ms

## ğŸ“… ê°œë°œ ê³„íš

### Phase 1: MVP (4ì£¼)

#### Week 1: í”„ë¡œì íŠ¸ ì„¤ì •
- Rails í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- ê¸°ë³¸ UI ë ˆì´ì•„ì›ƒ
- ê°œë°œ í™˜ê²½ êµ¬ì„±

#### Week 2: AI í†µí•©
- Gemini API ì—°ë™
- í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§
- JSON ì‘ë‹µ íŒŒì‹±
- ì—ëŸ¬ ì²˜ë¦¬

#### Week 3: PWA ìƒì„±
- í…œí”Œë¦¿ ì‹œìŠ¤í…œ êµ¬ì¶•
- ë™ì  ë¼ìš°íŒ… êµ¬í˜„
- ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥
- ê¸°ë³¸ ìŠ¤íƒ€ì¼ë§

#### Week 4: ë°°í¬ ì¤€ë¹„
- DigitalOcean ì„œë²„ ì„¤ì •
- ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
- ëª¨ë‹ˆí„°ë§ ì„¤ì •
- ì´ˆê¸° í…ŒìŠ¤íŠ¸

### Phase 2: ì•ˆì •í™” (2ì£¼)

#### Week 5-6:
- ë²„ê·¸ ìˆ˜ì •
- ì„±ëŠ¥ ìµœì í™”
- ì‚¬ìš©ì í”¼ë“œë°± ë°˜ì˜
- ë³´ì•ˆ ê°•í™”

### Phase 3: í™•ì¥ (4ì£¼)

#### Week 7-10:
- ì‚¬ìš©ì ì¸ì¦ ê³ ë„í™”
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
- ì¶”ê°€ ê¸°ëŠ¥ ê°œë°œ
- A/B í…ŒìŠ¤íŠ¸

## ğŸ’° ë¹„ìš© êµ¬ì¡°

### ì´ˆê¸° ë¹„ìš© (MVP)
```yaml
Infrastructure:
- DigitalOcean Droplet (2GB): $12/ì›”
- ë„ë©”ì¸: $12/ë…„ = $1/ì›”
- SSL: ë¬´ë£Œ (Let's Encrypt)

APIs:
- Gemini API: $0.075/ë°±ë§Œ í† í° (ì•½ $10-30/ì›”)
- Google Maps: $200 ë¬´ë£Œ í¬ë ˆë”§/ì›”
- ì´ ì˜ˆìƒ: $25-45/ì›”
```

### ì„±ì¥ ë‹¨ê³„ ë¹„ìš©
```yaml
Infrastructure:
- DigitalOcean Droplet (4GB): $24/ì›”
- DigitalOcean Spaces: $5/ì›”
- ë°±ì—… ì„œë¹„ìŠ¤: $5/ì›”

APIs:
- Gemini API: $50-100/ì›”
- Google Maps: $50-100/ì›”
- ì´ ì˜ˆìƒ: $150-250/ì›”
```

## ğŸ”’ ë³´ì•ˆ ë° ê·œì •

### ë³´ì•ˆ ìš”êµ¬ì‚¬í•­
- HTTPS í•„ìˆ˜
- API í‚¤ í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬
- SQL Injection ë°©ì§€
- XSS ë°©ì§€
- Rate Limiting
- CORS ì„¤ì •

### ê°œì¸ì •ë³´ ì²˜ë¦¬
- ìµœì†Œ ì •ë³´ ìˆ˜ì§‘ ì›ì¹™
- ì•”í˜¸í™” ì €ì¥
- ì •ê¸°ì  ë°ì´í„° ì‚­ì œ
- GDPR ì¤€ìˆ˜ (í–¥í›„)

## ğŸ“ˆ ì„±ê³µ ì§€í‘œ (KPI)

### ë¹„ì¦ˆë‹ˆìŠ¤ ì§€í‘œ
- **MAU**: 100ëª… (3ê°œì›”), 1,000ëª… (6ê°œì›”)
- **ì—¬í–‰ ê³„íš ìƒì„±**: ì›” 500ê±´
- **PWA ì„¤ì¹˜ìœ¨**: 30%
- **ì¬ë°©ë¬¸ìœ¨**: 40%
- **í‰ê·  ì„¸ì…˜ ì‹œê°„**: 5ë¶„ ì´ìƒ

### ê¸°ìˆ  ì§€í‘œ
- **í‰ê·  ì‘ë‹µì‹œê°„**: < 500ms
- **ì—ëŸ¬ìœ¨**: < 1%
- **ê°€ë™ì‹œê°„**: > 99.9%
- **í˜ì´ì§€ ì†ë„ ì ìˆ˜**: > 90

## âš ï¸ ë¦¬ìŠ¤í¬ ë° ëŒ€ì‘

### ê¸°ìˆ ì  ë¦¬ìŠ¤í¬
- **AI API ë¹„ìš© ì¦ê°€**: ìºì‹± ì „ëµ ê°•í™”, ì‚¬ìš©ëŸ‰ ëª¨ë‹ˆí„°ë§
- **ì„œë²„ ê³¼ë¶€í•˜**: ìë™ ìŠ¤ì¼€ì¼ë§ ì¤€ë¹„, ë¡œë“œ ë°¸ëŸ°ì„œ ê³ ë ¤
- **ë°ì´í„° ì†ì‹¤**: ì¼ì¼ ë°±ì—… + ì˜¤í”„ì‚¬ì´íŠ¸ ë°±ì—…

### ë¹„ì¦ˆë‹ˆìŠ¤ ë¦¬ìŠ¤í¬
- **ê²½ìŸì‚¬ ì¶œí˜„**: ì°¨ë³„í™” ê¸°ëŠ¥ ì§€ì† ê°œë°œ
- **ì‚¬ìš©ì ì´íƒˆ**: UX ì§€ì† ê°œì„ , ì‚¬ìš©ì í”¼ë“œë°± ì ê·¹ ë°˜ì˜
- **ìˆ˜ìµí™” ì§€ì—°**: í”„ë¦¬ë¯¸ì—„ ê¸°ëŠ¥ ì¤€ë¹„, B2B ì‹œì¥ íƒ€ê²Ÿ

## ğŸ—ºï¸ í–¥í›„ ë¡œë“œë§µ

### ë‹¨ê¸° (6ê°œì›”)
- B2C ì„œë¹„ìŠ¤ ì•ˆì •í™”
- ëª¨ë°”ì¼ ì•± ê°œë°œ (React Native)
- ì˜ˆì•½ ì‹œìŠ¤í…œ ì—°ë™ (Booking.com API)
- ì—¬í–‰ ì»¤ë®¤ë‹ˆí‹° ê¸°ëŠ¥

### ì¤‘ê¸° (12ê°œì›”)
- B2B ì„œë¹„ìŠ¤ ì¶œì‹œ
- í™”ì´íŠ¸ë¼ë²¨ ì†”ë£¨ì…˜
- êµ­ì œí™” (ë‹¤êµ­ì–´ ì§€ì›)
- AI ëª¨ë¸ íŒŒì¸íŠœë‹

### ì¥ê¸° (24ê°œì›”)
- AI ëª¨ë¸ ìì²´ ê°œë°œ
- ì—¬í–‰ ë§ˆì¼“í”Œë ˆì´ìŠ¤
- ì¢…í•© ì—¬í–‰ í”Œë«í¼í™”
- ê¸€ë¡œë²Œ í™•ì¥